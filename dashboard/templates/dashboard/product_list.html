{% extends "dashboard/base.html" %}
{% load price_filters %}

{% block title %}Quản lý sản phẩm | TechOne{% endblock %}
{% block page_kicker %}Quản lý sản phẩm{% endblock %}
{% block page_title %}Danh sách sản phẩm{% endblock %}

{% block content %}
<section class="page-head">
    <div>
        <h1>Danh sách sản phẩm</h1>
        <p class="helper">Quản lý thông tin, tồn kho và trạng thái hiển thị.</p>
    </div>
    <div class="page-actions">
        <a class="btn-primary" href="{% url 'product_create' %}">Thêm sản phẩm</a>
        <a class="btn-ghost" href="{% url 'dashboard_home' %}">Về Dashboard</a>
    </div>
</section>

<section class="card">
    <div class="section-head">
        <h2>Danh sách sản phẩm</h2>
        <p class="helper">Tổng: {{ products|length }}</p>
    </div>
    {% if products %}
    <ul class="list">
        {% for product in products %}
        <li class="list-item">
            <div class="list-meta">
                <strong>{{ product.name }}</strong>
                <span>{{ product.category.name }} · {{ product.brand.name }} · {{ product.price|format_vnd }}</span>
            </div>
            <div class="list-actions">
                <span class="helper">Kho: {{ product.stock }}</span>
                <a class="btn-ghost btn-sm" href="{% url 'product_edit' product.id %}">Sửa</a>
                <a class="btn-ghost btn-sm" href="{% url 'product_delete' product.id %}">Xóa</a>
            </div>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <div class="empty-state">Chưa có sản phẩm nào.</div>
    {% endif %}
</section>
{% endblock %}
